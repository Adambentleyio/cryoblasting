---
import BaseLayout from "../layouts/BaseLayout.astro";
import CTA from "../components/CTA.astro";
import cryoTemp1 from "../assets/images/cryo-temp-1.jpg";
import cryoTemp2 from "../assets/images/cryo-temp-2.jpg";
import cryoTemp3 from "../assets/images/cryo-temp-3.jpg";
import { Picture } from "astro:assets";


// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import {getOptimizedImage} from "../js/utils"
import {getHeroImages } from "../js/utils";

import landingImage from "../assets/images/dry-ice-banner.webp" // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import landingImage2 from "../assets/images/dry-ice-blasting-outside.webp" // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import iceBlastingBMW from "../assets/images/ice-blasting-bmw.jpg"
import iceBlastingBMWClose from "../assets/images/ice-blasting-bmw-close.jpg"
import iceBlastingGraffiti from "../assets/images/ice-blasting-graffiti.jpg"
import iceBlastingManufacturing from "../assets/images/ice-blasting-manufacturing.jpg"
import iceBlastingMachine from "../assets/images/dry-ice-blasting-machine.png"
import engineBeforeAfter from "../assets/images/engine-before-after.jpg"
import infographic from "../assets/images/dry-ice-infographic.jpg"


const optimizedImage = await getOptimizedImage(landingImage)
const heroImageOptimised = await getHeroImages(landingImage)
const heroImageOptimised2 = await getHeroImages(landingImage2)

import iceBlastingTruck from "../assets/images/ice-blasting-truck.jpg"

import HeroWithServices from "../components/HeroWithServices.astro";
import FAQ from "../components/FAQ.astro";
import Mechanisms from "../components/Mechanisms.astro";
import HeroOriginal from "../components/HeroOriginal.astro";
---

<BaseLayout
  title="The Cryoblasting Specialists"
  description="Dry Ice Blasting Services In The North West"
  preloadedImage = {optimizedImage}
>
  <HeroWithServices heroImageOptimised={heroImageOptimised2} />


  <!-- ============================================ -->
  <!--                 Side By Side                 -->
  <!-- ============================================ -->

  <section id="sbs">
    <div class="cs-container">
      <!-- Left Image Section -->
      <div class="cs-left">
          <Picture
          formats={["avif", "webp"]}
          class="cs-picture cs-picture1" 
          src={iceBlastingBMW}
          alt="cryoTemp1"          
          />
        
        <!-- <picture class="cs-picture cs-picture1 position-right-top">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/hedges.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/hedges.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/hedges.jpg"
            alt="cabinets"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture> -->
        <Picture
          formats={["avif", "webp"]} 
          class="cs-picture cs-picture2"
          src={engineBeforeAfter}
          alt="cryoTemp2"          
          />
        <!-- <picture class="cs-picture cs-picture2">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/dismantle.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/dismantle.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/dismantle.jpg"
            alt="house"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture> -->
      </div>
      <!-- Right Content Section-->
      <div class="cs-right animate-slide-left">
        <span class="cs-topper animate-fade-in">About</span>
        <h2 class="cs-title animate-fade-in">Your Trusted Partner in Dry Ice Blasting</h2>
        <p class="cs-text animate-fade-in">
          At Cryo Blasting UK, quality is our promise and our standard. We understand that your equipment and resources are valuable, and you deserve a cleaning solution that's as safe as it is effective. That's why we use advanced dry ice blasting technology to deliver spotless results without damaging your surfaces.
        </p>
          <a href="tel:(+44)7354339337" class="cs-button-solid animate-scale-up">ðŸ“ž Call Us</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--            Extra Content To Rank             -->
  <!-- ============================================ -->

  <section id="sbs-r">
    <div class="cs-container">
      <!-- Left Image Section -->
      <div class="cs-left">
        <Picture
          formats={["avif", "webp"]}
          class="cs-picture cs-picture1 pic-align-left" 
          src={iceBlastingManufacturing}
          alt="dry ice blasting manufacturing automation equipment"          
          />
          <Picture
          formats={["avif", "webp"]}
          class="cs-picture cs-picture2 pic-align-center" 
          src={iceBlastingGraffiti}
          alt="hedges"          
          />

        <!-- <picture class="cs-picture cs-picture1">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/clearance-before.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/clearance-before.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/clearance-before.jpg"
            alt="house"
            loading="lazy"
            width="400"
            height="560"
          />
        </picture>
        <picture class="cs-picture cs-picture2">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/clearance-after.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/clearance-after.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/clearance-after.jpg"
            alt="cabinets"
            loading="lazy"
            width="400"
            height="560"
          />
        </picture> -->
      </div>
      <!-- Right Content Section-->
      <div class="cs-right animate-slide-right">
        <span class="cs-topper animate-fade-in">Surface, Industrial & Commercial Cleaning</span>
        <h2 class="cs-title animate-fade-in">Nationwide Dry Ice Blasting</h2>
        <p class="cs-text animate-fade-in">
          From specialist one-off cleans to regular contracts our professional technicians are on standby ready to guarantee a high specification clean.
        </p>
        <p class="cs-text animate-fade-in">
          Our chemical-free clean is suitable for both commercial and industrial sectors. 
        </p>
        <a href="tel:(+44)7354339337" class="cs-button-solid animate-scale-up">ðŸ“ž Call Us</a>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--                 Side By Side                 -->
  <!-- ============================================ -->

  <section id="sbs">
    <div class="cs-container">
      <!-- Left Image Section -->
      <div class="cs-left">
      <picture
          formats={["avif", "webp"]}
          class="cs-picture cs-picture1" 
          alt="cryoTemp1">
          <source
        media="(max-width: 600px)"
        srcset={iceBlastingMachine.src}>
        <source media="(min-width: 601px)" srcset={iceBlastingMachine.src} />
        <img
          aria-hidden="true"
          decoding="async"
          src={iceBlastingMachine.src}
          alt="new home"
          width="2500"
          height="1667"
          loading="eager"
        />
      </picture>
        
        <!-- <picture class="cs-picture cs-picture1 position-right-top">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/hedges.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/hedges.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/hedges.jpg"
            alt="cabinets"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture> -->
        <Picture
          formats={["avif", "webp"]} 
          class="cs-picture cs-picture2"
          src={iceBlastingTruck}
          alt="cryoTemp2"          
          />
        <!-- <picture class="cs-picture cs-picture2">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/dismantle.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/dismantle.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/dismantle.jpg"
            alt="house"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture> -->
      </div>
      <!-- Right Content Section-->
      <div class="cs-right animate-slide-left">
        <span class="cs-topper animate-fade-in">Knowledge Base</span>
        <h2 class="cs-title animate-fade-in">What Is Dry Ice Blasting?</h2>
        <p class="cs-text animate-fade-in">
          Dry ice blasting is an advanced cleaning method that uses frozen carbon dioxide pellets to remove contaminants from surfaces without removing any material from the underlying equipment, surface or component.
        </p>
        <p class="cs-text animate-fade-in">Why It's Different
          Unlike sandblasting or chemical cleaning, dry ice blasting leaves no residue behind. The pellets simply vanish into harmless CO2 gas, leaving you with a clean surface and nothing else to dispose of.</p>
          <a href="tel:(+44)7354339337" class="cs-button-solid animate-scale-up">ðŸ“ž Call Us</a>
        </div>
      </div>
    </div>
  </section>

  <div class="bg-muted"> <!-- bACKGROUND MUTED DIV -->
    <Mechanisms />


  <!-- ============================================ -->
  <!--                  Services                    -->
  <!-- ============================================ -->

  <section id="services" class="services">
    <!-- Get Icons From flaticon.com -->
    <div class="card animate-scale-up">
      <picture>
        <img
          aria-hidden="true"
          decoding="async"
          src="/assets/svgs/service1.svg"
          alt="appliance"
          width="48"
          height="48"
        />
      </picture>
      <h2>Surface Cleaning</h2>
      <p>
        Remove dirt and contaminants from a variety of surfaces using eco-friendly dry ice.
      </p>
    </div>
    <div class="card animate-scale-up">
      <picture>
        <img
          aria-hidden="true"
          decoding="async"
          src="/assets/svgs/service2.svg"
          alt="appliance"
          width="48"
          height="48"
        />
      </picture>
      <h2>Graffiti Removal</h2>
      <p>
        Efficiently remove graffiti from walls, fences, and public spaces without damaging the underlying surface.
      </p>
    </div>
    <div class="card animate-scale-up">
      <picture>
        <img
          aria-hidden="true"
          decoding="async"
          src="/assets/svgs/service3.svg"
          alt="appliance"
          width="48"
          height="48"
        />
      </picture>
      <h2>Restoration</h2>
      <p>
        Restore the original look of buildings, monuments, and equipment.
      </p>
    </div>
    <div class="card animate-scale-up">
        <picture>
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/svgs/service2.svg"
            alt="appliance"
            width="48"
            height="48"
          />
        </picture>
        <h2>Priting Machines</h2>
        <p>
          Priting machinery and equipment cleaning.
        </p>
      </div>
      <div class="card animate-scale-up">
        <picture>
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/svgs/service2.svg"
            alt="appliance"
            width="48"
            height="48"
          />
        </picture>
        <h2>Moulding</h2>
        <p>
          Moulding and plastic equipment cleaning.
        </p>
      </div>
      <div class="card animate-scale-up">
        <picture>
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/svgs/service2.svg"
            alt="appliance"
            width="48"
            height="48"
          />
        </picture>
        <h2>Paint Removal</h2>
        <p>
          Industrial, automotive and general paint removal.
        </p>
      </div>
  </section>

</div> <!-- End of background muted -->

  <!-- ============================================ -->
  <!--                   Gallery                    -->
  <!-- ============================================ -->

  <!-- <Gallery /> -->

  <FAQ  />

  <!-- ============================================ -->
  <!--                   Reviews                    -->
  <!-- ============================================ -->

  <!-- <Reviews /> -->

  <!-- <CTA /> -->
</BaseLayout>

<style lang="less">
  /* STYLES FOR ABOVE THE FOLD */

  /* General */




  /*-- -------------------------- -->
<---          Services          -->
<--- -------------------------- -*/

  /* Mobile */
  @media only screen and (min-width: 0em) {
    .services {
      width: 90%;
      max-width: (1320/16em);
      margin: auto;
    //   margin-top: (-167/16em);
      margin-bottom: (50/16em);
      padding: (50/16em) (20/16em);
      background: #fff;
      box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.05);
      border-top: (6/16em) solid var(--primary);
      border-radius: (5/16em);
      position: relative;
      z-index: 100;

      .card {
        width: 100%;
        max-width: (357/16em);
        margin: auto;
        margin-bottom: (50/16em);
        display: block;
 
        

        &:last-of-type {
          margin-bottom: 0;
        }

        picture {
          width: (88/16em);
          height: (88/16em);
          margin: auto;
          margin-bottom: (23/16em);
          background: var(--medium);
          border-radius: 50%;
          display: flex;
          justify-content: center;
          align-items: center;

          img {
            width: (48/16em);
            height: (48/16em);
          }
        }
        h2 {
          font-size: (32/16em);
          font-weight: 700;
          line-height: 27/20em;
          text-align: center;
          margin: 13/20em;
          padding-bottom: 0.5rem;
          color: #1a1a1a;
        }
        p {
          line-height: 24/18em;
          text-align: center;
          width: 100%;
          opacity: 0.7;
        }
      }
    }
  }

  /* Inbetween */
  @media only screen and (min-width: 768px) {
    .services {
      font-size: ~"min(1.8vw, 1em)";
      width: 98%;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: (40/16em);
      justify-items: center;

      .card {
        max-width: (325/16em);
        align-self: start;
        margin: 0;
      }
    }
  }

  /* Large Desktop */
  @media only screen and (min-width: 1300px) {
    .services {
      padding: (50/16em) (80/16em);
      display: grid;

      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: (40/16em);
      

      .card {
        max-width: (357/16em);
        align-self: start;
      }
    }
  }

  /* Dark mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #services {
        background: var(--medium);

        picture {
          background: var(--primaryDark);
        }

        h2 {
          font-weight: bold;
          color: #fff;
        }
      }
    }
  }

  /* PAGE-SPECIFIC STYLES FOR THE HOME PAGE */

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #sbs {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~"min(2.31vw, .7em)";
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;

        
        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          
        }
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);

        &img {
          position: absolute
          top: 0;
          left: 0;
        }
      }

      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        
        &img {
        position: absolute;
        right: 0;
        bottom: 0;
        }
      }


      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);

        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        // font-size: clamp(0.875rem, 1.5vw, 1rem);
        font-size: var(--bodyFontSize);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }

      .cs-button-solid {
        margin-top: (32/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~"min(1.2vw, 1em)";
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #sbs {
        .cs-left {
          &:before,
          &:after {
            background: var(--accent);
          }
        }

        .cs-picture2 {
          background-color: var(--dark);
          /* 6px - 12px */
          border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
        }

        .cs-topper {
          color: var(--primary);
        }

        .cs-title,
        .cs-text,
        .cs-h3,
        .cs-flex-p,
        .cs-name {
          color: var(--bodyTextColorWhite);
        }

        .cs-flex-group {
          background-color: var(--bodyTextColor);
        }

        .cs-job {
          color: var(--bodyTextColorWhite);
          opacity: 0.8;
        }

        .cs-quote-icon {
          opacity: 0.2;
        }
      }
    }
  }

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* General */

  img.cs-picture {
    width: 100%;
    height: 100%;
    /* makes image act like a background image */
    object-fit: cover;
    position: absolute;
    object-position: right top;
  }

  img.cs-picture2 {
    position: absolute;
    bottom: 0;
    right: 0;
  }

  img.pic-align-center {
            object-position: center;
          }
  img.pic-align-left {
            object-position: left;
          }

 /* Mobile - 360px */

  @media only screen and (min-width: 0em) {
    #sbs-r {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~"min(2.31vw, .7em)";
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;

        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          object-position: right top;
          top: 0;
          left: 0;
        }
      
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);
        top: 0;
        right: 0;
      }

      // Anchor the image to the right instead of left
    
      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        bottom: 0;
        left: 0;
      }

      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);
        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs-r {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~"min(1.2vw, 1em)";
        /* sends it to the right */
        order: 2;
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #sbs-r {
        .cs-left {
          &:before,
          &:after {
            background: var(--accent);
          }
        }

        .cs-picture2 {
          background-color: var(--dark);
          /* 6px - 12px */
          border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
        }

        .cs-topper {
          color: var(--primary);
        }

        .cs-title,
        .cs-text,
        .cs-h3,
        .cs-flex-p,
        .cs-name {
          color: var(--bodyTextColorWhite);
        }

        .cs-flex-group {
          background-color: var(--accent);
        }

        .cs-job {
          color: var(--bodyTextColorWhite);
          opacity: 0.8;
        }

        .cs-quote-icon {
          opacity: 0.2;
        }
      }
    }
  }

  /*-- -------------------------- -->
<---          Gallery           -->
<--- -------------------------- -*/

  /* Mobile - 360px - Contains hover animation */
  @media only screen and (min-width: 0em) {
    #gallery {
      /* Centers button */
      text-align: center;
      padding: var(--sectionPadding);
      position: relative;
      /* Prevents overflow from the image going off screen */
      overflow: hidden;
      .cs-container {
        width: 100%;
        max-width: (1322/16em);
        margin: auto;
      }

      .cs-topper {
        text-align: center;
        margin-bottom: (16/16rem);
      }

      .cs-title {
        text-align: center;
        max-width: (621/16rem);
        margin-bottom: (40/16rem);
      }

      .cs-image-group {
        /* used rem so it doesn't scale with the font size of on parent */
        font-size: ~"min(1.1vw, 1em)";
        width: 100%;
        max-width: (1322/16em);
        margin: 0 auto (60/16rem);
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: (30/16em);
      }

      .cs-row {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        gap: (30/16em);
      }

      .cs-picture {
        display: block;
        position: relative;
        img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-row-1 {
        .cs-picture1 {
          width: (420/16em);
          height: (567/16em);
        }

        .cs-picture2 {
          width: (420/16em);
          height: (629/16em);
        }

        .cs-picture3 {
          width: (420/16em);
          height: (512/16em);
        }
      }

      .cs-row-2 {
        .cs-picture1 {
          width: (420/16em);
          height: (492/16em);
        }

        .cs-picture2 {
          width: (420/16em);
          height: (517/16em);
        }

        .cs-picture3 {
          width: (420/16em);
          height: (629/16em);
        }
      }

      .cs-row-3 {
        .cs-picture1 {
          width: (420/16em);
          height: (625/16em);
        }

        .cs-picture2 {
          width: (420/16em);
          height: (452/16em);
        }

        .cs-picture3 {
          width: (420/16em);
          height: (629/16em);
        }
      }
    }
  }

  /* Dark mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #gallery {
        .cs-title {
          color: var(--bodyTextColorWhite);
        }
      }
    }
  }

  /*-- -------------------------- -->
<---          Reviews           -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #reviews {
      /* Centers the button */
      text-align: center;
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1104/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: center;
        margin-bottom: (16/16rem);
      }

      .cs-title {
        text-align: center;
        max-width: (700/16rem);
      }

      .cs-text {
        text-align: center;
        max-width: (650/16rem);
        /* 88px - 104px */
        margin-bottom: clamp(5.5em, 10.2vw, 6.5em);
      }

      .cs-card-group {
        /* 48px - 64px */
        margin: 0 auto clamp(3rem, 5vw, 4rem);
        padding: 0;
      }

      .cs-item {
        text-align: left;
        list-style: none;
        width: 100%;
        max-width: (542/16rem);
        margin: 0 auto (64/16rem);
        /* Prevents padding from affecting height & width */
        box-sizing: border-box;
        /* Padding L & R - 16px - 32px */
        padding: (60/16rem) clamp(1rem, 3.2vw, 2rem) 0;
        /* 32px - 40px */
        padding-bottom: clamp(2rem, 5.4vw, 2.5rem);
        background: #fff;
        box-shadow: 0px 20px 39px 0px rgba(0, 0, 0, 0.05);
        border-radius: (4/16rem);
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        position: relative;

        &:last-of-type {
          margin-bottom: 0;
        }
      }

      .cs-item-img {
        width: (80/16rem);
        height: (80/16rem);
        position: absolute;
        top: (-40/16rem);
      }

      .cs-item-p {
        font-size: (16/16rem);
        line-height: 1.5em;
        margin: 0 0 (20/16rem);
        padding-bottom: (20/16rem);
        color: var(--bodyTextColor);
        border-bottom: 1px solid #e8e9ec;
      }

      .cs-reviewer {
        font-size: (16/16rem);
        font-weight: 700;
        line-height: 1.5em;
        width: 40%;
        margin: 0 auto 0 0;
        color: var(--headerColor);
        display: block;
      }

      .cs-desc {
        font-size: (14/16rem);
        font-weight: 400;
        color: var(#353535);
        display: block;
      }

      .cs-item-stars {
        width: (96/16rem);
        height: (16/16rem);
      }
    }
  }

  /* Tablet - 768px */
  @media only screen and (min-width: 48em) {
    #reviews {
      .cs-card-group {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: (16/16rem);
      }

      .cs-item {
        /* reset margin so it won't interfere with flexbox */
        margin: 0;
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #reviews {
        .cs-title,
        .cs-text,
        .cs-item-p,
        .cs-reviewer {
          color: var(--bodyTextColorWhite);
        }

        .cs-item {
          background: var(--medium);
        }

        .cs-desc {
          color: var(--primaryLight);
        }
      }
    }
  }
</style>

<script is:inline>
  // Text Animation Script for Astro
  class TextAnimator {
    constructor(options = {}) {
      this.options = {
        threshold: 0.2,
        rootMargin: '0px 0px -50px 0px',
        animationDelay: 100,
        animationDuration: 600,
        ...options
      };
      
      this.observer = null;
      this.init();
    }
  
    init() {
      // Create intersection observer
      this.observer = new IntersectionObserver(
        this.handleIntersection.bind(this),
        {
          threshold: this.options.threshold,
          rootMargin: this.options.rootMargin
        }
      );
  
      // Wait for DOM to be ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => this.setupElements());
      } else {
        this.setupElements();
      }
    }
  
    setupElements() {
      // Find all elements with animation classes
      const animatedElements = document.querySelectorAll([
        '.animate-fade-in',
        '.animate-slide-up',
        '.animate-slide-down',
        '.animate-slide-left',
        '.animate-slide-right',
        '.animate-scale-up',
        '.animate-typewriter',
        '.animate-word-reveal'
      ].join(', '));
  
      animatedElements.forEach(element => {
        // Add initial styles
        this.prepareElement(element);
        // Start observing
        this.observer.observe(element);
      });
    }
  
    prepareElement(element) {
      const animationType = this.getAnimationType(element);
      
      // Set initial state based on animation type
      switch (animationType) {
        case 'fade-in':
          element.style.opacity = '0';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out`;
          break;
          
        case 'slide-up':
          element.style.opacity = '0';
          element.style.transform = 'translateY(30px)';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out, transform ${this.options.animationDuration}ms ease-out`;
          break;
          
        case 'slide-down':
          element.style.opacity = '0';
          element.style.transform = 'translateY(-30px)';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out, transform ${this.options.animationDuration}ms ease-out`;
          break;
          
        case 'slide-left':
          element.style.opacity = '0';
          element.style.transform = 'translateX(30px)';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out, transform ${this.options.animationDuration}ms ease-out`;
          break;
          
        case 'slide-right':
          element.style.opacity = '0';
          element.style.transform = 'translateX(-30px)';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out, transform ${this.options.animationDuration}ms ease-out`;
          break;
          
        case 'scale-up':
          element.style.opacity = '0';
          element.style.transform = 'scale(0.8)';
          element.style.transition = `opacity ${this.options.animationDuration}ms ease-out, transform ${this.options.animationDuration}ms ease-out`;
          break;
      }
    }
  
    getAnimationType(element) {
      const classList = Array.from(element.classList);
      for (const className of classList) {
        if (className.startsWith('animate-')) {
          return className.replace('animate-', '');
        }
      }
      return 'fade-in'; // default
    }
  
    handleIntersection(entries) {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          this.animateElement(entry.target);
          this.observer.unobserve(entry.target); // Only animate once
        }
      });
    }
  
    animateElement(element) {
      const animationType = this.getAnimationType(element);
  
      switch (animationType) {
        case 'fade-in':
          element.style.opacity = '1';
          break;
          
        case 'slide-up':
        case 'slide-down':
        case 'slide-left':
        case 'slide-right':
        case 'scale-up':
          element.style.opacity = '1';
          element.style.transform = 'translateY(0) translateX(0) scale(1)';
          break;
      }
    }
  }
  
  // Initialize the animator when the script loads
  let textAnimator;
  
  // For Astro, we need to reinitialize on navigation
  document.addEventListener('astro:page-load', () => {
    textAnimator = new TextAnimator({
      threshold: 0.1,
      animationDelay: 150,
      animationDuration: 800
    });
  });
  
  // Fallback for non-Astro sites or initial load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
      textAnimator = new TextAnimator({
        threshold: 0.1,
        animationDelay: 150,
        animationDuration: 800
      });
    });
  } else {
    textAnimator = new TextAnimator({
      threshold: 0.1,
      animationDelay: 150,
      animationDuration: 800
    });
  }
</script>


